function required_if_not_returning(e){var r=$j("#reg_enroll option:selected").val(),s=null!=r&&/^nr-/.test(r),t=!1;return s&&(t=""===e),!t}function required_if_transfering(e){var r=$j("#reg_enroll option:selected").val(),s=null!=r&&0==r.indexOf("nr-"),t=!1;if(s){var i=$j("#reg_exitcode option:selected").val();null!=i&&/^160|180$/.test(i)&&(t=""===e)}return!t}function returning_to_grade(e){var r=$j("#reg_enroll option:selected").val(),s=null!=r&&/^nr-/.test(r);if(s)return!1;var t=$j("#reg_grade_level option:selected").val();return t==e}function required_if_6(e){return returning_to_grade("6")?!(""===e):!0}function required_if_7(e){return returning_to_grade("7")?!(""===e):!0}function required_if_8(e){return returning_to_grade("8")?!(""===e):!0}function set_up_reg_year(){var e=$j.trim($j("#orig_reg_year").val());if(!e){var r=$j("#orig_entrydate").val(),s=r.match(/(\d+)\/\d+\/(\d+)/);if(s){var t=parseInt(s[1]),i=parseInt(s[2]);6>=t&&(i-=1),e=i+"-"+(i+1)}$j(".reg_year").val(e),$j(".for_reg_year").val("for "+e+" School Year")}}$j(document).ready(function(){set_up_reg_year(),$j("#form2").isHappy({onSubmit:onItrFormSubmit,fields:{"#reg_enroll":{required:!0,message:"Required field: whether this student is re-enrolling or not."},"#reg_exitcode":{required:"sometimes",test:required_if_not_returning,message:"Please choose a reason from the list."},"#reg_exitcomment":{required:"sometimes",test:required_if_transfering,message:'Please give the name of the school, or type "Don\'t know."'},".electives_6_pa":{required:"sometimes",test:required_if_6,message:"Please choose Band or Chorus"},".electives_7_band":{required:"sometimes",test:required_if_7,message:"Please choose Yes or No"},".electives_7_choir":{required:"sometimes",test:required_if_7,message:"Please choose Yes or No"},".electives_7_mathletes":{required:"sometimes",test:required_if_7,message:"Please choose Yes or No"},".electives_8_band":{required:"sometimes",test:required_if_8,message:"Please choose Yes or No"},".electives_8_choir":{required:"sometimes",test:required_if_8,message:"Please choose Yes or No"},".electives_8_mathletes":{required:"sometimes",test:required_if_8,message:"Please choose Yes or No"},".electives_8_yearbook":{required:"sometimes",test:required_if_8,message:"Please choose Yes or No"},"#electives_8_enrich1":{required:"sometimes",test:required_if_8,message:"Please choose an enrichment preference"},"#electives_8_enrich1":{required:"sometimes",test:required_if_8,message:"Please choose an enrichment preference"},"#electives_8_enrich1":{required:"sometimes",test:required_if_8,message:"Please choose an enrichment preference"}}})});